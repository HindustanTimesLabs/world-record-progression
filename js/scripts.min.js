$(document).ready(function(){function a(a){a<480?$(".navbar-brand img").attr("src","img/ht-logo-sq.png"):$(".navbar-brand img").attr("src","img/navlogo.png")}function g(a,b){var c;void 0==h[a][b]?(c="",$(".notes").hide()):(c="NOTE ON "+a.toUpperCase()+"'S "+b.toUpperCase()+": "+h[a][b],$(".notes").show()),$(".notes").html(c)}function i(a){var b;return b=void 0===a?"00":1==a.toString().length?"0"+a:a}function j(a,b){var c;return c=void 0===a?"00":1==a.toString().length?a+"0":a}function k(a,b){var c;return"speed"==a?b<60?c="Time (seconds)":b>=60&&b<3600?c="Time (minutes)":b>3600&&(c="Time (hours)"):"distance"==a?c="Distance (meters)":"points"==a&&(c="Points"),c}function l(a){if(a=a.toString(),a=Number(a.replace(/,/g,"")),a<60){var b=a.toString().split("."),c=b[0],d=j(b[1]);a=c+"."+d}else if(a>=60&&a<3600){var e=Math.floor(a/60),c=i(a-60*e);a=e+":"+c}else if(a>=3600){var f=Math.floor(a/3600);a-=3600*f;var e=i(Math.floor(a/60)),c=i(a-60*e);a=f+":"+e+":"+c}return a}function m(a,b,c,d,e){var f={};if(a<60){var g=d,h=j(e);f.noUnits=g+"."+h,f.units=f.noUnits}else if(a>=60&&a<3600){var k=c,g=i(d),h=j(e);f.noUnits=k+":"+g+"."+h,f.units=f.noUnits}else if(a>=3600){var b=b,k=i(c),g=i(d);f.noUnits=b+":"+k+":"+g,f.units=f.noUnits}return f}function n(a,b){var c;return c=a.toString()+"."+i(b)}function o(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function p(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e={};c==a.length-1?e.date=new Date:e.date=a[c+1].date;var f={};f.iaaf=d.iaaf,f.type=d.type,f.event=d.event,f.gender=d.gender,f.name=d.name,f.nationality=d.nationality,f.notes=d.notes,f.type=d.type,f.date=d.date,f.currDate=new Date(f.date),f.nextDate=new Date(e.date),f.nextDateString=moment(f.nextDate).format("MMMM D, YYYY"),f.duration=f.nextDate-f.currDate,"speed"==f.type?(f.hours=d.hours,f.minutes=d.min,f.seconds=d.sec,f.centiseconds=d.shundreds,f.time=3600*f.hours+60*f.minutes+f.seconds+f.centiseconds/100,f.timeString=m(f.time,f.hours,f.minutes,f.seconds,f.centiseconds).noUnits,f.timeStringUnits=m(f.time,f.hours,f.minutes,f.seconds,f.centiseconds).units):"points"==f.type?(f.points=d.points,f.pointsString=o(f.points),f.pointsStringUnits=f.pointsString+" points"):"distance"==f.type&&(f.distance=d.meters+d.centimeters/100,f.distanceString=n(d.meters,d.centimeters),f.distanceStringUnits=f.distanceString+" meters"),b.push(f)}return b}function q(a,b){function D(a){return new Date(a)}function F(a){return"Men"==a?new Date("1840"):new Date("1890")}function K(a){var b={};return a<992?(b.width=0,b.height=0):(b.width=-a+1,b.height=-v+90),b}function N(a){return a>992?10:5}function Q(a){return a>992?v/3.5:v/6}function R(a,b){var c={};return a<992?(c.translate=b/2.3,c.textAnchor="middle",c.transform=40):(c.translate=b,c.textAnchor="end",c.transform=-5),c}"speed"==a[0].type?($(".infobox-column").addClass("col-md-offset-7").removeClass("col-md-offset-2"),"Women"==a[0].gender&&("100 m hurdles"!=a[0].event&&"10000 m"!=a[0].event&&"3000 m steeplechase"!=a[0].event&&"4 x 400 m relay"!=a[0].event&&"400 m hurdles"!=a[0].event&&"5000 m"!=a[0].event&&"Marathon"!=a[0].event||$(".infobox-column").addClass("col-md-offset-2").removeClass("col-md-offset-7"))):$(".infobox-column").addClass("col-md-offset-2").removeClass("col-md-offset-7");for(var c=[],e=[],f=[],g=0;g<a.length;g++)e.push(a[g].currDate),f.push(a[g].duration),c.push(a[g]);var h=e[0],i=e[e.length-1],j=_.max(f);$(".chart").empty();var m,n;"speed"==a[0].type?(m="time",n="timeString",units="timeStringUnits"):"distance"==a[0].type?(m="distance",n="distanceString",units="distanceStringUnits"):"points"==a[0].type&&(m="points",n="pointsString",units="pointsStringUnits");var r,s,t,o=a[a.length-1],p=_.max(a,"duration"),q=new Date(p.nextDateString).getFullYear()-new Date(p.date).getFullYear();t="Wayde van Niekerk"==o.name||"Almaz Ayana"==o.name||"Anita Wlodarczyk"==o.name?"new":"current";var u;"4 x 100 m relay"==o.event||"4 x 400 m relay"==o.event?(u=o.nationality,oldName=p.nationality):(u=o.name,oldName=oldName=p.name),o.date!=p.date?(r=moment(o.date).add(p.duration,"ms").format("MMMM D, YYYY"),s="For <b>"+u+"&rsquo;s</b> "+t+" world record of <b>"+o[units]+"</b> to become the longest standing world record, it will have to go unbroken until <b>"+r+"</b>. Then it will have lasted longer than <b>"+oldName+"&rsquo;s</b> record of <b>"+p[units]+"</b>, which stood for <b>"+q+" years</b>, from <b>"+p.date+"</b>, until <b>"+p.nextDateString+"</b>.",narrativeShare="For world record to become longest held, must last til "+moment(r).format("MMM. D, YYYY")+"."):(r=moment().add(p.duration,"ms").format("MMMM D, YYYY"),s="<b>"+u+"&rsquo;s</b> "+t+" world record of <b>"+o[units]+"</b>, set on <b>"+o.date+"</b>, is also the longest standing record. Even if someone broke it today, their new record would have to go unbroken for <b>"+q+" years</b>, until <b>"+r+"</b>, to become the longest held record.",narrativeShare=u+"'s world record is the longest held."),$(".narrative").html(s+'<a class="twitter-share" onclick="window.open(this.href,\'targetWindow\',\'toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width=600,height=300\');return false;"><i class="fa fa-twitter" style="margin-left: 8px;font-size: 1.3em;" aria-hidden="true"></i></a>'),$(".event").html(o.gender+"&rsquo;s "+o.event.toLowerCase());var B="https://twitter.com/home?status="+a[0].event+": "+narrativeShare+" "+encodeURIComponent(d);$(".twitter-share").attr("href",B);var C="https://www.facebook.com/sharer/sharer.php?u="+d;$(".facebook-share").attr("href",C);d3.min(a,function(a){return D(a.date)});y.domain([F(o.gender),new Date]);var G=d3.min(a,function(a){return a[m]}),H=d3.max(a,function(a){return a[m]}),I=.2*(H-G);z.domain([H+I,G-I]);var J=A.selectAll("g").data(a).enter().append("g").attr("transform",function(a,b){return"translate("+y(a.currDate)+","+(z(a[m])-2)+")"});J.append("rect").attr("width",function(a){return y(a.nextDate)-y(a.currDate)}).attr("height",w-1).attr("class",function(a){return"pre"==a.iaaf?"pre":"post"});var L=d3.axisLeft().scale(z).ticks(10).tickSizeInner(K($(window).width()).width).tickSizeOuter(0).tickPadding(8),M=A.append("g").attr("class","axis y-axis").call(L),O=d3.axisBottom().scale(y).ticks(N($(window).width())).tickSizeInner(K($(window).width()).height).tickSizeOuter(0).tickPadding(8),P=A.append("g").attr("class","axis x-axis").attr("transform","translate(0,"+(v-3*x)+")").call(O);$(".y-axis g text").each(function(){if("speed"==a[0].type){var b=$(this).text();void 0!=b&&$(this).text(l(b))}}),M.append("text").attr("text-anchor","top").attr("class","axis-label").attr("transform","translate(20,"+Q($(window).width())+")rotate(-90)").text(k(a[0].type,a[0][m])),P.append("text").attr("text-anchor",R($(window).width(),b).textAnchor).attr("class","axis-label").attr("transform","translate("+R($(window).width(),b).translate+","+R($(window).width(),b).transform+")").text("Date"),J.append("text").attr("class","bar-text").attr("x",function(b,c){if("Women"==b.gender){if(0==c&&$(window).width()<=992){if("3000 m steeplechase"==b.event)return-113;if("400 m hurdles"==b.event)return-20;if("5000 m"==b.event)return-30;if("Marathon"==b.event)return-40;if("100 m hurdles"==b.event)return-20}if(b.duration==j)if($(window).width()>992){if("1500 m"==b.event)return-38;if("10000 m"==b.event)return-37}else{if("100 m hurdles"==b.event)return-123;if("10000 m"==b.event)return-150;if("1500 m"==b.event)return-143;if("4 x 100 m relay"==b.event)return-106;if("5000 m"==b.event)return-170;if("20 km walk"==b.event)return-50;if("Hammer throw"==b.event)return-20;if("Pole vault"==b.event)return-40}if(c==a.length-1)return $(window).width()>992?"Triple jump"==b.event?61:"Shot put"==b.event?29:"Pole vault"==b.event?-57:"Marathon"==b.event?-124:"Long jump"==b.event?27:"Javelin throw"==b.event?18:"High jump"==b.event?34:"Heptathlon"==b.event?18:"Hammer throw"==b.event?-126:"Discus throw"==b.event?20:"4 x 400 m relay"==b.event?6:"4 x 100 m relay"==b.event?-90:"400 m hurdles"==b.event?-116:"3000 m steeplechase"==b.event?-171:"20 km walk"==b.event?-128:"100 m hurdles"==b.event?-127:"10000 m"==b.event?-145:"5000 m"==b.event?-71:"1500 m"==b.event?-127:"800 m"==b.event?54:"400 m"==b.event?150:"100 m"==b.event?20:"200 m"==b.event?18:-90:"Triple jump"==b.event?-88:"Shot put"==b.event?-178:"Pole vault"==b.event?-100:"Marathon"==b.event?-220:"Long jump"==b.event?-174:"Javelin throw"==b.event?-182:"High jump"==b.event?-172:"Heptathlon"==b.event?-180:"Hammer throw"==b.event?-125:"Discus throw"==b.event?-159:"800 m"==b.event?-178:"5000 m"==b.event?-124:"400 m hurdles"==b.event?-204:"4 x 400 m relay"==b.event?-176:"4 x 100 m relay"==b.event?-117:"3000 m steeplechase"==b.event?-223:"200 m"==b.event?-165:"20 km walk"==b.event?-135:"1500 m"==b.event?-135:"10000 m"==b.event?-145:"100 m hurdles"==b.event?-127:"100 m"==b.event?-170:"400 m"==b.event?-68:-90}else if("Men"==b.gender){if(0==c)if($(window).width()>992);else if("5000 m"==b.event)return-50;if(b.duration==j)if($(window).width()>992){if("Pole vault"==b.event)return-72}else{if("Pole vault"==b.event)return-142;if("4 x 100 m relay"==b.event)return-65;if("4 x 400 m relay"==b.event)return-140;if("Long jump"==b.event)return-65;if("Marathon"==b.event)return-120;if("50 km walk"==b.event)return-65;if("800 m"==b.event)return-20;if("Decathlon"==b.event)return-40}if(c==a.length-1){if(!($(window).width()>992))return"Shot put"==b.event?-196:"High jump"==b.event?-193:"Triple jump"==b.event?-203:"Pole vault"==b.event?-113:"Marathon"==b.event?-132:"Long jump"==b.event?-85:"Javelin throw"==b.event?-205:"Hammer throw"==b.event?-190:"Discus throw"==b.event?-190:"Decathlon"==b.event?-118:"50 km walk"==b.event?-133:"400 m hurdles"==b.event?-200:"4 x 400 m relay"==b.event?-105:"4 x 100 m relay"==b.event?-120:"3000 m steeplechase"==b.event?-225:"1500 m"==b.event?-215:"110 m hurdles"==b.event?-120:"5000 m"==b.event?-123:"10000 m"==b.event?-124:"400 m"==b.event?-131:"20 km walk"==b.event?-135:"800 m"==b.event?-135:"100 m"==b.event?-112:"20 km walk"==b.event?-128:-118;if("High jump"==b.event)return-77;if("Triple jump"==b.event)return-98;if("Pole vault"==b.event)return-106;if("Marathon"==b.event)return-125;if("Long jump"==b.event)return 41;if("Javelin throw"==b.event)return-102;if("Hammer throw"==b.event)return-40;if("Discus throw"==b.event)return-39;if("Decathlon"==b.event)return-100;if("50 km walk"==b.event)return-125;if("400 m hurdles"==b.event)return-79;if("4 x 400 m relay"==b.event)return 11;if("4 x 100 m relay"==b.event)return-102;if("3000 m steeplechase"==b.event)return-167;if("1500 m"==b.event)return-127;if("110 m hurdles"==b.event)return-102;if("5000 m"==b.event)return-66;if("10000 m"==b.event)return-74;if("400 m"==b.event)return-125;if("20 km walk"==b.event)return-128;if("800 m"==b.event)return-111;if("100 m"==b.event)return-74;if("20 km walk"==b.event)return-100;if("Shot put"==b.event)return-64;if("200 m"==b.event)return-82}}}).attr("y",function(a){return"speed"==a.type?a.currDate==i?16:-10:"points"==a.type||"distance"==a.type?a.currDate==i?-10:16:void 0}).attr("dy",".35em").text(function(a){return a.duration==j&&a.currDate==i?"Longest standing & current record ("+a[n]+")":a.duration==j&&a.currDate==h?"First & longest standing record ("+a[n]+")":a.duration==j?"Longest standing record ("+a[n]+")":a.currDate==i?"Current record ("+a[n]+")":a.currDate==h?"First record ("+a[n]+")":void 0}),$(".bar-text").hide(),setTimeout(function(){$(".bar-text").fadeIn()},500),$(".chart").prepend($(".x-axis")).prepend($(".y-axis")),$(".y-axis").append($(".y-axis path"))}function r(a){return a<992?a-10:a>=992&&a<1200?.78*a:.79*a}function s(a,b){return a<992?b-60:b}function t(a){return a>992?600:a<=992&a>480?350:300}function B(a){function b(a){var b;return b="null"==a?null:+a}return a.date=moment(a.year+i(a.month)+i(a.day),"YYYYMMDD").format("MMMM D, YYYY"),a.day=+a.day,a.month=+a.month,a.year=+a.year,a.centimeters=b(a.centimeters),a.hours=b(a.hours),a.meters=b(a.meters),a.min=b(a.min),a.points=b(a.points),a.sec=b(a.sec),a.shundreds=b(a.shundreds),a.thousandths=b(a.thousandths),a}a($(window).width()),$(window).resize(function(){a($(window).width())});var b=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),c=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;(b||c)&&$(".filter-dropdown").css("margin-left","0em");var e,f,d=window.location.href;d.indexOf("?")!==-1?(e=d.split("?")[1].split("=")[1].split("&")[0],f=decodeURIComponent(d.split("?")[1].split("=")[2])):(e="Men",f="400 m");var h={Men:{"100 m":"The first record to be ratified by the IAAF was Donald Lippincott's 10.6 on 6 July, 1912. It was slower than the previous un-ratified world record. Both have been included. The first world record set with an automatic timer was Jim Hines' 9.95 on 14 October, 1968.","110 m hurdles":"All times until 1908 were recorded over 120 yards, or 109.73 meters. The first world record set with an automatic timer was Renaldo Nehemiah's 12.93, recorded on 19 August, 1981.","20 km walk":'IAAF began recognized "World Best Performances" in road races on 1 January, 2003. The following year, IAAF began recognizing world records. Records from before 2003 are listed by the IAAF, but have not been officially accepted. Hermann Muller\'s record of 1:37:06 was recorded at some point in June, 1922. For this graphic, the date has been set as 1 June, 1922.',"200 m":"The IAAF first distinguished between records made on a curve and those made on a straight track in 1951. Today, the 200-meter dash is raced around a curve. The first world record set with an automatic timer was Tommie Smith's 19:83 on 16 October, 1968.","400 m":"All times until 1912 were recorded over 440 yards, or 402.335 meters. The first world record set with an automatic timer was Lee Evans's 43:86 on 18 October, 1968. Wayde van Niekerk's world record is pending ratification by the IAAF as of 23 August, 2016.","400 m hurdles":"All times until 1903 were recorded over 440 yards, or 402.336 meters. The first world record set with an automatic timer was John Akii-Bua's 47.82, recorded on 2 September, 1972.","4 x 100 m relay":"A German team recorded a time of 47:20 at some point in 1902. Another German team recorded a time of 44:00 at some point in August, 1908. For this graphic, those dates have been recorded as 1 January, 1902, and 1 August, 1908, respectively. The first automatically timed record was set at 38.19 by an American team on 10 September, 1972.","4 x 400 m relay":"The American team of Matthews, Freeman II, James, and Evans set the first automatically timed record at 2:55.15 on 20 October, 1968.","50 km walk":'IAAF began recognized "World Best Performances" in road races on 1 January, 2003. The following year, IAAF began recognizing world records. Records from before 2003 are listed by the IAAF, but have not been officially accepted.',"800 m":"All times until 1912 were recorded over 880 yards, or 804.672 meters.","3000 m steeplechase":"The steeplechase did not become standardized until 1954. Before that, steeplechases were run with and without water jumps, and the size and number of hurdles varied.","10000 m":"William Jackson's 32:35.00, set in 1847, was recorded at the six-mile, 580-yard (10,186-meter) mark during a 10-mile race. Jack White's 31:00.00 is an estimated time from a seven-mile race; White was clocked at 29:50 at six miles and finished the race in 34:45.",Decathlon:"The decathlon has been scored according to six different points tables since 1912. These records have all been normalized to the current points table, created in 1984. Modern-day decathlons last for two days, but historically have lasted for as many as three and as few as one day. All decathlons have been dated from their final day.","Javelin throw":"After Uwe Hohn threw 104.80 meters on 20 July, 1984, a new javelin, with a forward-shifted center of gravity and a smaller surface area, was introduced. The distance of throws subsequently dropped by dozens of meters. In January 1987, the IAAF began accepting records with the new javelin, beginning with the best throw up until December 31, 1986.",Marathon:'IAAF began recognized "World Best Performances" in road races on 1 January, 2003. The following year, IAAF began recognizing world records. Records from before 2003 are listed by the IAAF, but have not been officially accepted.',"Pole vault":'Some of the early pole vault record holders used the so-called "climbing" technique, which was banned in the USA in 1889 and in Great Britain in 1922. The material used for the pole has changed over time, beginning with common tree woods until the early 20th century, when vaulters adopted bamboo. Vaulters experimented with aluminum and steel in the 1950s before finally switching to fibreglass by 1961.'},Women:{"100 m":"Hulda Idman's 14.10 occurred at some point in 1905. Eufrosyne Simola's 13.50 occurred at some point in September, 1911. For this graphic, the dates for those performances have been set at 1 January, 1905, and 1 September, 1911, respectively. The first record from an automatic timer is Wyomia Tyus's 11.08 from 15 October, 1968.","200 m":"Several early record performances were run over 220 yards, or 201.17 meters. The IAAF began distinguishing between races on a straight track and a curved track in 1951, and straight-track records were eliminated after 1976. The first record timed automatically is Renate Stecher's 22.38, achieved on 21 July, 1973.","400 m":'An athlete identified only as "A. Ahtinen" recorded two world records in 1911, one on an unknown date and another at some point in September. Those records have been pegged to 1 January, 1911, and 1 September, 1911, respectively. Helen Servia is listed as having run 1:02.00 on 1921, before IAAF ratification. Her time is faster than the first IAAF-ratified time, the 1:04.40 of Mary Lines. Both records have been included. Several early records were achieved over 440 yards, or 402.34 metres. The first automatically timed record is from Christina Brehmer, who ran 49.77 on 9 May, 1976.',"800 m":"Several of the early records were achieved over a distance of 880 yards, or 804.642 meters. The first IAAF-ratified world record was 2:45.00, run by Nelly Hicks in 1922. However, the IAAF lists two superior un-ratified performances that occurred prior to 1922. All three times are included in this graphic.","1500 m":"Lempi Aaltonen's 5:44.00 was achieved on an unknown day in June, 1913. For this graphic, the date has been pegged to 1 June, 1913.","10000 m":"Almaz Ayana's world record is pending ratification as of 23 August, 2016.",Marathon:'IAAF began recognized "World Best Performances" in road races on 1 January, 2003. The following year, IAAF began recognizing world records. Records from before 2003 are listed by the IAAF, but only Paula Radcliffe\'s current world record is officially accepted.',"20 km walk":'IAAF began recognized "World Best Performances" in road races on 1 January, 2003. The following year, IAAF began recognizing world records. Records from before 2003 are listed by the IAAF, but only those since Wang Yan\'s 1:26:22 on 19 November, 2001, are officially accepted.',"4 x 100 m relay":"The first IAAF ratified time of 53.20, run by a Czechoslovakian team on 21 May, 1922, was slower than four previous records that have not been ratified. All five times are included in this graphic. The first automatically timed world record on this chart is that of a team from East Germany, which ran 42.51 on 8 September, 1974.","4 x 400 m relay":"The first two world records were achieved on a distance of 440 yards, or 402.336 meters.","Pole vault":"IAAF introduced the women's pole vault to its world record list in 1994. However, female athletes have competed in pole vault competitions since at least 1910. Mildred Carl's 2.21 occurred at an unknown date in 1919. For this graphic, her performance has been pegged to 1 January, 1919.","Long jump":"The first IAAF ratified mark of 5.16 meters, set by Marie Mejzlikova II on 6 August, 1922, was lower than two previous records that have not been ratified. All three marks are included in this graphic.","Triple jump":"Women's triple jump was not official recognized by the IAAF until 1991. Still, it was a regular competition, particularly in the United States, the Soviet Union, and China, throughout the 20th century. Kinue Hitomi's mark of 11.62 meters occurred at an unknown date in December 1926. Frances Keddie's superior mark of 11.83 also occurred in 1926, though the date is entirely unknown. Both have been included in this graphic; the former is pegged to 1 December, 1926, and the latter is pegged to 2 December, 1926. Keddie's record would remain unbroken in competition for nearly 75 years.","Hammer throw":"The IAAF began to recognize world records in the women's hammer throw in 1994, but it lists un-ratified records going back to 1931. Anita Wlodarczyk's world record is pending ratification by the IAAF as of 23 August, 2016.",Heptathlon:"The IAAF lists heptathlon records from 1973, but only scores beginning with Ramona Neubert's 6,716 from 28 June, 1981 have been ratified. In 1985, the heptathlon began using a slightly different scoring table. All scores since Liesl Albert's 5,654 on 8 October, 1978, have been normalized to the 1985 table; previous scores have not been normalized. Heptathlons typically take place over the course of two days; the dates of these scores have been pegged to the final day, when the record was broken.","100 m hurdles":"The first automatically timed world record is that of Annelie Ehrhardt, who ran 12.59 on 8 September, 1972."}};$(document).on("click",".filter-toggle.inactive",function(){$(".filter-toggle.active").removeClass("active").addClass("inactive"),$(this).removeClass("inactive").addClass("active")});var u=r($(window).width()),v=t($(window).width()),w=8,x=30,y=d3.scaleTime().range([0,s($(window).width(),u)]),z=d3.scaleLinear().range([0,v-3*x]),A=d3.select(".chart").attr("width",u).attr("height",v);d3.csv("data/data.csv",B,function(a,b){var c=e,d=_.where(b,{gender:c});d=_.sortBy(d,"event");for(var h=_(d).chain().flatten().pluck("event").unique().value(),i=0;i<h.length;i++){var j='<option value="'+h[i]+'">'+h[i]+"</option>";$(".filter-dropdown").append(j)}var k=_.where(d,{event:f});$(".filter-dropdown").val(f),q(p(k),u),g(c,f),"Women"==e&&($(".filter-toggle").removeClass("active").addClass("inactive"),$(".filter-women").removeClass("inactive").addClass("active")),History.pushState(null,"Who holds the world record for the longest world record? | Hindustan Times","?gender="+c+"&event="+f),$(".filter-toggle").click(function(){var a=$(".filter-dropdown").val();"Decathlon"==a?a="Heptathlon":"Heptathlon"==a?a="Decathlon":"50 km walk"==a?a="20 km walk":"110 m hurdles"==a?a="100 m hurdles":"100 m hurdles"==a&&(a="110 m hurdles"),c=$(this).attr("data-which"),d=_.where(b,{gender:c}),d=_.sortBy(d,"event"),h=_(d).chain().flatten().pluck("event").unique().value(),$(".filter-dropdown").empty();for(var e=0;e<h.length;e++){var f='<option value="'+h[e]+'">'+h[e]+"</option>";$(".filter-dropdown").append(f)}var i=_.where(d,{event:a});$(".filter-dropdown").val(a),q(p(i),u),g(c,a),History.pushState(null,"Who holds the world record for the longest world record? | Hindustan Times","?gender="+c+"&event="+a)}),$(".filter-dropdown").on("change",function(){c=$(".filter-toggle.active").attr("data-which"),d=_.where(b,{gender:c}),d=_.sortBy(d,"event");var a=this.value,e=_.where(d,{event:a});q(p(e),u),g(c,a),History.pushState(null,"Who holds the world record for the longest world record? | Hindustan Times","?gender="+c+"&event="+a)})})});